{"version":3,"sources":["services/ApiServices.js","pages/AchimenesPage/AchimenesPage.module.css","views/VioletsDetailsView.jsx"],"names":["axios","defaults","baseURL","ApiServices","userData","post","data","status","getCollection","payload","console","log","message","get","req","user","getAchimenes","result","getViolets","getGerans","getAchimeneById","achimeneId","getVioletById","violetId","getGeranById","geranId","addCollection","collection","toast","success","error","deleteCollection","id","delete","getComments","addComment","comment","cb","module","exports","VioletsDetailsView","isLoggedIn","useSelector","authSelectors","getIsLoggedIn","useState","privateCollections","setPrivateCollections","violet","setViolet","useParams","useEffect","then","className","s","cardView","cardItem","src","imgUrl","alt","title","img","cardDescr","nameItem","descr","price","span","button","onClick","window","history","back","find"],"mappings":"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","file":"static/js/11.d428093e.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\naxios.defaults.baseURL = \"https://flowers-gallery.herokuapp.com\";\r\n\r\nclass ApiServices {\r\n  async signIn(userData) {\r\n    try {\r\n      const { data, status } = await axios.post(\"/api/auth/login\", userData);\r\n      if (status < 300) {\r\n        getCollection();\r\n      }\r\n      return data.payload;\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    try {\r\n      const req = await axios.get(\"/api/auth/logout\");\r\n\r\n      return req.data;\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  async signUp(userData) {\r\n    try {\r\n      const { data } = await axios.post(\"/api/auth/register\", userData);\r\n      return data.payload.user;\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    try {\r\n      const { data } = await axios.get(\"/api/auth/current\");\r\n      return data;\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n}\r\nexport default new ApiServices();\r\n\r\nexport async function getAchimenes() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/achimenes\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getViolets() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/violets\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getGerans() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/gerans\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getAchimeneById(achimeneId) {\r\n  console.log(achimeneId);\r\n  try {\r\n    const { data } = await axios.get(`/api/achimenes/${achimeneId}`);\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getVioletById(violetId) {\r\n  try {\r\n    const { data } = await axios.get(`/api/violets/${violetId}`);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getGeranById(geranId) {\r\n  try {\r\n    const { data } = await axios.get(`/api/gerans/${geranId}`);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addAchimene(achimene) {\r\n  try {\r\n    const { data } = await axios.post(\"/api/achimenes\", achimene);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addViolet(violet) {\r\n  try {\r\n    const { data } = await axios.post(\"/api/violets\", violet);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addGeran(geran) {\r\n  try {\r\n    const { data } = await axios.post(\"/api/gerans\", geran);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getCollection() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/collections\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addCollection(collection) {\r\n  try {\r\n    const { data } = await axios.post(\"/api/collections\", collection);\r\n    console.log(data);\r\n    toast.success(\"Квітка успішно додана до колекції\");\r\n    return data;\r\n  } catch (e) {\r\n    toast.error(\"Квітка вже є в колекції\");\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function deleteCollection(id) {\r\n  try {\r\n    const { data } = await axios.delete(`/api/collections/${id}`);\r\n    console.log(data);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function updateAchimeneById(id) {\r\n  try {\r\n    const { data } = await axios.patch(`/api/achimenes/${id}/active`);\r\n    console.log(data);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getComments() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/comments\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addComment(comment, cb = () => {}) {\r\n  try {\r\n    const { data, status } = await axios.post(\"/api/comments\", comment);\r\n    if (status < 300) {\r\n      cb();\r\n    }\r\n    console.log(data);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AchimenesPage_container__1h_V9\",\"title\":\"AchimenesPage_title__3VFIn\",\"text\":\"AchimenesPage_text__2jxbx\",\"wrapper\":\"AchimenesPage_wrapper__2Yki3\",\"img\":\"AchimenesPage_img__3Db-G\",\"name\":\"AchimenesPage_name__1J5cT\",\"card\":\"AchimenesPage_card__3TIcu\",\"cardView\":\"AchimenesPage_cardView__yzTUm\",\"cardItem\":\"AchimenesPage_cardItem__2ev-k\",\"nameItem\":\"AchimenesPage_nameItem__1H6n3\",\"descr\":\"AchimenesPage_descr__1gAhV\",\"cardDescr\":\"AchimenesPage_cardDescr__sGR57\",\"button\":\"AchimenesPage_button__20_xl\",\"price\":\"AchimenesPage_price__2JbO3\",\"span\":\"AchimenesPage_span__1MyR-\",\"span1\":\"AchimenesPage_span1__1nBZb\"};","import { useParams } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport authSelectors from \"../redux/auth/auth-selectors\";\r\nimport {\r\n  addCollection,\r\n  getCollection,\r\n  getVioletById,\r\n} from \"../services/ApiServices\";\r\nimport s from \"../pages/AchimenesPage/AchimenesPage.module.css\";\r\n\r\nexport default function VioletsDetailsView() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const [privateCollections, setPrivateCollections] = useState(null);\r\n  const [violet, setViolet] = useState([]);\r\n  const { violetId } = useParams();\r\n\r\n  useEffect(() => {\r\n    getVioletById(violetId).then(setViolet);\r\n  }, [violetId]);\r\n\r\n  const onBack = () => {\r\n    window.history.back();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      getCollection().then(setPrivateCollections);\r\n    }\r\n  }, [isLoggedIn]);\r\n\r\n  const onAddToCollection = () => {\r\n    const isExist = privateCollections.find(\r\n      (collection) => collection.title === violet.title\r\n    );\r\n    if (isExist) {\r\n      toast.error(\"Ця квітка вже є у вашій колекції\");\r\n    } else {\r\n      addCollection({ imgUrl: violet.imgUrl, title: violet.title });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <hr />\r\n      <div className={s.cardView}>\r\n        <div className={s.cardItem}>\r\n          <img src={violet.imgUrl} alt={violet.title} className={s.img} />\r\n        </div>\r\n        <div className={s.cardDescr}>\r\n          <h2 className={s.nameItem}>{violet.title}</h2>\r\n          <p className={s.descr}>{violet.descr}</p>\r\n          <p className={s.price}>\r\n            <span className={s.span}>Наявність: </span>\r\n            {violet.status}\r\n          </p>\r\n          <button className={s.button} onClick={onBack}>\r\n            Повернутись до колекції\r\n          </button>\r\n          {isLoggedIn && (\r\n            <button className={s.button} onClick={onAddToCollection}>\r\n              Додати до приватної колекції\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}