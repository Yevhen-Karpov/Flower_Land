{"version":3,"sources":["services/ApiServices.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","pages/PrivateCollectionPage/PrivateCollection.module.css","pages/PrivateCollectionPage/PrivateCollectionPage.jsx"],"names":["axios","defaults","baseURL","ApiServices","userData","post","data","status","getCollection","payload","console","log","message","get","req","user","getAchimenes","result","getViolets","getGerans","addCollection","collection","toast","success","error","deleteCollection","id","delete","getComments","addComment","comment","cb","_classCallCheck","instance","Constructor","TypeError","module","exports","PrivateCollectionPage","useState","privateCollections","setPrivateCollections","useEffect","then","className","s","container","wrapper","map","privateCollection","card","onClick","_id","src","imgUrl","alt","title","img","name","cardOverlay","overlay","text"],"mappings":"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","file":"static/js/8.4a28b3dc.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\naxios.defaults.baseURL = \"https://flowers-gallery.herokuapp.com\";\r\n\r\nclass ApiServices {\r\n  async signIn(userData) {\r\n    try {\r\n      const { data, status } = await axios.post(\"/api/auth/login\", userData);\r\n      if (status < 300) {\r\n        getCollection();\r\n      }\r\n      return data.payload;\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    try {\r\n      const req = await axios.get(\"/api/auth/logout\");\r\n\r\n      return req.data;\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  async signUp(userData) {\r\n    try {\r\n      const { data } = await axios.post(\"/api/auth/register\", userData);\r\n      return data.payload.user;\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    try {\r\n      const { data } = await axios.get(\"/api/auth/current\");\r\n      return data;\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n}\r\nexport default new ApiServices();\r\n\r\nexport async function getAchimenes() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/achimenes\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getViolets() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/violets\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getGerans() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/gerans\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getAchimeneById(achimeneId) {\r\n  console.log(achimeneId);\r\n  try {\r\n    const result = await axios.get(`/api/achimenes/${achimeneId}`);\r\n    console.log(result);\r\n    return result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getVioletById(violetId) {\r\n  try {\r\n    const { data } = await axios.get(`/api/violets/${violetId}`);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getGeranById(geranId) {\r\n  try {\r\n    const { data } = await axios.get(`/api/gerans/${geranId}`);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addAchimene(achimene) {\r\n  try {\r\n    const { data } = await axios.post(\"/api/achimenes\", achimene);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addViolet(violet) {\r\n  try {\r\n    const { data } = await axios.post(\"/api/violets\", violet);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addGeran(geran) {\r\n  try {\r\n    const { data } = await axios.post(\"/api/gerans\", geran);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getCollection() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/collections\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addCollection(collection) {\r\n  try {\r\n    const { data } = await axios.post(\"/api/collections\", collection);\r\n    console.log(data);\r\n    toast.success(\"Квітка успішно додана до колекції\");\r\n    return data;\r\n  } catch (e) {\r\n    toast.error(\"Квітка вже є в колекції\");\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function deleteCollection(id) {\r\n  try {\r\n    const { data } = await axios.delete(`/api/collections/${id}`);\r\n    console.log(data);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function updateAchimeneById(id) {\r\n  try {\r\n    const { data } = await axios.patch(`/api/achimenes/${id}/active`);\r\n    console.log(data);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function getComments() {\r\n  try {\r\n    const { data } = await axios.get(\"/api/comments\");\r\n    console.log(data.data.result);\r\n    return data.data.result;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport async function addComment(comment, cb = () => {}) {\r\n  try {\r\n    const { data, status } = await axios.post(\"/api/comments\", comment);\r\n    if (status < 300) {\r\n      cb();\r\n    }\r\n    console.log(data);\r\n    return data;\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PrivateCollection_container__1BqbQ\",\"text\":\"PrivateCollection_text__3tGmb\",\"wrapper\":\"PrivateCollection_wrapper__11Fe3\",\"img\":\"PrivateCollection_img__2JawR\",\"card\":\"PrivateCollection_card__1nO3V\",\"name\":\"PrivateCollection_name__3q_bS\",\"cardOverlay\":\"PrivateCollection_cardOverlay__3DjdJ\",\"overlay\":\"PrivateCollection_overlay__3kL2T\"};","import { useEffect, useState } from \"react\";\r\nimport { getCollection, deleteCollection } from \"../../services/ApiServices\";\r\nimport s from \"./PrivateCollection.module.css\";\r\n\r\nexport default function PrivateCollectionPage() {\r\n  const [privateCollections, setPrivateCollections] = useState(null);\r\n  useEffect(() => {\r\n    getCollection().then(setPrivateCollections);\r\n  }, []);\r\n\r\n  const onDeleteCollection = (id) => {\r\n    deleteCollection(id).then(() => {\r\n      getCollection().then(setPrivateCollections);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      {privateCollections ? (\r\n        <ul className={s.wrapper}>\r\n          {privateCollections.map((privateCollection) => (\r\n            <li\r\n              key={privateCollection._id}\r\n              className={s.card}\r\n              onClick={() => onDeleteCollection(privateCollection._id)}\r\n            >\r\n              <img\r\n                src={privateCollection.imgUrl}\r\n                alt={privateCollection.title}\r\n                className={s.img}\r\n              />\r\n\r\n              <div className={s.name}>\r\n                <p className={s.cardOverlay}>{privateCollection.title}</p>\r\n                <p className={s.overlay}>Видалити</p>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <div>\r\n          <p className={s.text}>There is private collection.</p>\r\n          <p className={s.text}>Це ваша приватна колекція квітів.</p>\r\n          <p className={s.text}>\r\n            Тут поки що нічого немає, але ви можете створити її власноруч.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}